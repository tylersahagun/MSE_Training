<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body onload="loadEvents(2)">
<div class="february">
<div class="month">      
  <ul>
    <li class="prev noselect">&#10094;</li>
    <li class="next noselect" onclick="showMarch()">&#10095;</li>
    <li>
      February<br>
      <span style="font-size:18px">2022</span>
    </li>
  </ul>
</div>

<ul class="weekdays">
  <li>Mo</li>
  <li>Tu</li>
  <li>We</li>
  <li>Th</li>
  <li>Fr</li>
  <li>Sa</li>
  <li>Su</li>
</ul>

<ul class="days" onclick="showForm()" style="z-index: 0;">  
  <li onclick="showForm()">31</li>
  <li id="2022-02-01">1</li>
  <li id="2022-02-02">2<h6 style="color: lightseagreen">Groundhog Day</h6></li>
  <li id="2022-02-03">3</li>
  <li id="2022-02-04">4</li>
  <li id="2022-02-05">5</li>
  <li id="2022-02-06">6</li>
  <li id="2022-02-07">7</li>
  <li id="2022-02-08">8</li>
  <li id="2022-02-09">9</li>
  <li id="2022-02-10">10</li>
  <li id="2022-02-11">11</li>
  <li id="2022-02-12">12<h6 style="color: lightseagreen">Lincoln's Birthday</h6></li>
  <li id="2022-02-13">13</li>
  <li id="2022-02-14">14<h6 style="color: lightseagreen">Valentine's Day</h6></li>
  <li id="2022-02-15">15</li>
  <li id="2022-02-16">16</li>
  <li id="2022-02-17">17</li>
  <li id="2022-02-18">18</li>
  <li id="2022-02-19">19</li>
  <li id="2022-02-20">20</li>
  <li id="2022-02-21">21<h6 style="color: lightseagreen">President's Day</h6><h6 style="color: lightseagreen">Washington's Birthday</h6></li>
  <li id="2022-02-22">22</li>
  <li id="2022-02-23">23</li>
  <li id="2022-02-24">24</li>
  <li id="2022-02-25">25</li>
  <li id="2022-02-26">26</li>
  <li id="2022-02-27">27</li>
  <li id="2022-02-28">28</li>
  <li id="2022-03-01">1<h6 style="color: lightseagreen">Mardi Gras Carnival</h6></li>
  <li id="2022-03-02">2</li>
  <li id="2022-03-03">3</li>
  <li id="2022-03-04">4</li>
  <li id="2022-03-05">5</li>
  <li id="2022-03-06">6</li>
</ul>
</div>

<div class="march" style="display: none">
<div class="month">      
  <ul>
    <li class="prev noselect" onclick="showFebruary()">&#10094;</li>
    <li class="next noselect" onclick="showApril()">&#10095;</li>
    <li>
      March<br>
      <span style="font-size:18px">2022</span>
    </li>
  </ul>
</div>

<ul class="weekdays">
  <li>Mo</li>
  <li>Tu</li>
  <li>We</li>
  <li>Th</li>
  <li>Fr</li>
  <li>Sa</li> 
  <li>Su</li>
</ul>

<ul class="days" onclick="showForm()">  
  <li>28</li>
  <li id="2022-03-01">1<h6 style="color: lightseagreen">Mardi Gras Carnival</h6></li>
  <li id="2022-03-02">2</li>
  <li id="2022-03-03">3</li>
  <li id="2022-03-04">4</li>
  <li id="2022-03-05">5</li>
  <li id="2022-03-06">6</li>
  <li id="2022-03-07">7</li>
  <li id="2022-03-08">8</li>
  <li id="2022-03-09">9</li>
  <li id="2022-03-10">10</li>
  <li id="2022-03-11">11</li>
  <li id="2022-03-12">12</li>
  <li id="2022-03-13">13<h6 style="color: lightseagreen">Daylight Saving</h6></li>
  <li id="2022-03-14">14</li>
  <li id="2022-03-15">15</li>
  <li id="2022-03-16">16</li>
  <li id="2022-03-17">17<h6 style="color: lightseagreen">St. Patrick's Day</h6></li>
  <li id="2022-03-18">18</li>
  <li id="2022-03-19">19</li>
  <li id="2022-03-20">20</li>
  <li id="2022-03-21">21</li>
  <li id="2022-03-22">22</li>
  <li id="2022-03-23">23</li>
  <li id="2022-03-24">24</li>
  <li id="2022-03-25">25</li>
  <li id="2022-03-26">26</li>
  <li id="2022-03-27">27</li>
  <li id="2022-03-28">28</li>
  <li id="2022-03-29">29</li>
  <li id="2022-03-30">30</li>
  <li id="2022-03-31">31</li>
  <li id="2022-04-01">1<h6 style="color: lightseagreen">April Fool's Day</h6></li>
  <li id="2022-04-02">2</li>
  <li id="2022-04-03">3</li>
</ul>
</div>

<div class="april" style="display: none">
<div class="month">      
  <ul>
    <li class="prev noselect" onclick="showMarch()">&#10094;</li>
    <li class="next noselect">&#10095;</li>
    <li>
      April<br>
      <span style="font-size:18px">2022</span>
    </li>
  </ul>
</div>

<ul class="weekdays">
  <li>Mo</li>
  <li>Tu</li>
  <li>We</li>
  <li>Th</li>
  <li>Fr</li>
  <li>Sa</li>
  <li>Su</li>
</ul>

<ul class="days" onclick="showForm()">  
  <li id="2022-03-28">28</li>
  <li id="2022-03-29">29</li>
  <li id="2022-03-30">30</li>
  <li id="2022-03-31">31</li>
  <li id="2022-04-01">1<h6 style="color: lightseagreen">April Fool's Day</h6></li>
  <li id="2022-04-02">2</li>
  <li id="2022-04-03">3</li>
  <li id="2022-04-04">4</li>
  <li id="2022-04-05">5</li>
  <li id="2022-04-06">6</li>
  <li id="2022-04-07">7</li>
  <li id="2022-04-08">8</li>
  <li id="2022-04-09">9</li>
  <li id="2022-04-10">10</li>
  <li id="2022-04-11">11</li>
  <li id="2022-04-12">12</li>
  <li id="2022-04-13">13</li>
  <li id="2022-04-14">14</li>
  <li id="2022-04-15">15<h6 style="color: lightseagreen">Good Friday</h6></li>
  <li id="2022-04-16">16</li>
  <li id="2022-04-17">17<h6 style="color: lightseagreen">Easter</h6></li>
  <li id="2022-04-18">18<h6 style="color: lightseagreen">Easter Monday</h6></li>
  <li id="2022-04-19">19</li>
  <li id="2022-04-20">20</li>
  <li id="2022-04-21">21</li>
  <li id="2022-04-22">22<h6 style="color: lightseagreen">Earth Day</h6></li>
  <li id="2022-04-23">23</li>
  <li id="2022-04-24">24</li>
  <li id="2022-04-25">25</li>
  <li id="2022-04-26">26</li>
  <li id="2022-04-27">27</li>
  <li id="2022-04-28">28</li>
  <li id="2022-04-29">29</li>
  <li id="2022-04-30">30</li>
  <li>1</li>
</ul>
</div>

<div id="form" style="display: none;">
<p id="show_message" style="display: none">Form data sent.</p>
<span id="error" style="display: none"></span>

<form method="POST" id="ajax-form">
    <div class="form-group">
        <label>Event</label>
        <input type="text" name="event" id="event" class="form-control">
    </div>

    <div class="form-group">
        <label>Description</label>
        <input type="text" name="description" id="description" class="form-control">
    </div>

    <div class="form-group">
        <label>Time</label>
        <input type="datetime-local" name="time" id="time" class="form-control">
    </div>

    <button type="button" onclick="submitEvent()" class="btn btn-info" name="submit" value="submit">submit</button>
</form>

</div>

<p><a style="color: white" class="btn btn-primary" id="showButton" onclick="showForm()">Create Event</a></p>
<p><a href="logout.php" class="btn btn-danger">Sign Out</a></p>


<script>
  function showForm() {
    $('#form').show();
    $("#showButton").hide();
    console.log("Showing form");
  }

  function submitEvent() {
    $('#form').hide();

    JSONstring = {eventTitle:document.getElementById('event').value,eventDescription:document.getElementById('description').value,eventTime:document.getElementById('time').value}

    $.post("submit.php", {data: JSON.stringify(JSONstring)}, function(result){
      console.log(result);
    });

    $('#showButton').show();
    loadEvents();
  }

  function showMarch() {
    $('.february').hide();
    $('.april').hide();
    $('.march').show();

    console.log("Showing march");
  }

  function showFebruary() {
    $('.february').show();
    $('.april').hide();
    $('.march').hide();

    console.log("Showing february");
  }

  function showApril() {
    $('.february').hide();
    $('.april').show();
    $('.march').hide();

    console.log("Showing april");
  }



  function loadEvents() {
    $.get("eventGet.php", function(data) {
      console.log(data);
      var eventsJSON = JSON.parse(data);
      console.log(eventsJSON);

      for (let i = 0; i < eventsJSON.length; i++) {
        let time = eventsJSON[i]["scheduledTime"];
        console.log(time);
        
        time = JSON.stringify(time);
        console.log(time);

        let month = time.substring(6, 8);
        console.log(month);

        let date = time.substring(1, 11);
        console.log(date);

        let hours = time.substring(12, 20);
        console.log(hours);

        let title = eventsJSON[i]["title"];
        //title = JSON.stringify(title);
        console.log(title);

        let des = eventsJSON[i]["event_description"];
        //des = JSON.stringify(des);
        console.log(des);

        let output = title + "<br>" + des + "<br>" + hours;

        let location = document.getElementById(date);
        location.innerHTML = location.innerHTML + "<h6 style='color: black'>" + output + "</h6>";
      }
    });
  }
</script>


<script src="script.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>